---
layout: post
title:  "[파이썬] PEP 8"
tags: python
comments: true
---
파이썬 개발자라면 알아야 할 PEP 8 코드 가이드

사실 파이썬을 주로 쓰지만 PEP 8에 맞춰서 코드를 짠 적이 없다

이번 기회에 알아보자

출처: [PEP 8](https://www.python.org/dev/peps/pep-0008/)

# 코드의 일관성은 중요하다
- PEP 8은 기본적으로 사용되는 파이썬 코드 스타일 가이드다
- 이유가 있다면 꼭 PEP 8을 고수할 필요는 없다

# Code Layout
## Indentation
- 4 번의 스페이스로 Indentation을 표시하자
- `(), {}, []` 사용 시 줄 바꿈을 해야 한다면, 표현식은 다음과 같다. 
    1. ```python
        # GOOD
        # 여는 부호 (, {, [ 줄에 맞춰서 element를 적고 
        # (), {}, [] 안에 element를 수직 정렬 시킨다
        foo = long_function_name(var_one, var_two,
                                 var_three, var_four)
        
        # BAD
        # 수직 정렬을 사용하지 않으면
        # 여는 부호 (, {, [ 와 함께 변수명을 적으면 안된다
        foo = long_function_name(var_one, var_two
        va_three, var_four)
       ```
    2. ```python
        # GOOD
        # 4번의 스페이스를 넣어서 인자와 나머지를 구분한다.
        def long_function_name(
                var_one, var_two, var_three,
                var_four):
            print(var_one)
        
        # BAD
        def long_function_name(
            var_one, var_two, var_three,
            var_four):
            print(var_one)
       ```
- `if` 문과 관련해서는 다음과 같이 사용할 수 있다.
    - ```python
        # GOOD
        # 여백 없이 사용 (수직 정렬은 맞춰야한다.)
        if (condition_a and
            condition_b):
            do_something()
        
        # Comment를 작성해서 시각적으로 구분
        if (condition_a and
            condition_b):
            # 컨디션이 둘 다 True 하니, 다음을 실행
            do_something()
        
        # condition에 여백을 넣어준다
        if (condition_a
                and condition_b):
            do_something()
        ```
- multiline construct에서 닫는 부호 `], }, )`의 위치는 다음과 같다.
    - ```python
        # 부호 안에 있는 첫 번째 변수에 수직 정렬한다
        my_list = [
            1, 2, 3,
            4, 5, 6,
            ]

        result = some_function(
            'a', 'b', 'c',
            'd', 'e', 'f',
            )
        
        # 혹은 multiline construct의 시작 부분에 맞춰서 정렬한다 
        my_list = [
            1, 2, 3,
            4, 5, 6,
        ]

        result = some_function(
            'a', 'b', 'c',
            'd', 'e', 'f',
        )
        ``` 

## TAB/SPACE? 
- 이미 기존 코드가 TAB을 사용하고 있다면 TAB으로 코드를 작성한다
- TAB 대신에 4번의 스페이스 공백을 기본으로 한다

## 최대 라인 길이
- 모든 라인은 최대 79자로 한다
- Flowing long blocks of comments나 docstring은 72자로 한다
- 최대 라인 길이를 준수하기 위해 `\`도 다음과 같은 상황에서는 사용 가능하다
    - ```python
        # 바뀐 줄은 수직 정렬을 맞춰야한다
        # \ 이후에 공백은 안된다
        with open('/path/to/some/file/you/want/to/read', 'r') as file_ 1 \
             open('/path/to/some/file/being/written', 'w') as file_2:
            file_2.write(file_1.read())
        ```

## 줄 바꿈은 이항연산 (binary operator)자 전/후?
```python
# GOOD
# 연산자 전 줄 바꿈
income = (gross_wages
          + taxable_interest
          + (dividends - qualified_dividends)
          - ira_deduction
          - student_loan_interest)

# BAD
# 연산자 후 줄 바꿈 (연산자가 정렬이 되지 않음)
income = (gross_wages +
          taxable_interest +
          (dividends - qualified_dividends) -
          ira_deduction -
          student_loan_interest)
```

## Blank lines
```python
# Some code written here


# Top level 함수와 class는 앞/뒤로 2줄
def top_level_function():
    pass


class SomeClass():

    # Class 안에 함수는 앞/뒤로 1줄
    def class_method():
        pass

    def another_method():
        pass


# 함수 내에 logical section을 나눌 때 공백 사용
def some_function():
    some_task_a

    some_task_b

    some_task_c

```

## Source file encoding
- Python 2는 (ASCII), Python 3은 UTF-8을 기본으로 한다
- 예외는 
    1. Non-ASCII 기능을 test하는 test case 
    2. 코드 작성자의 이름

## 추가하자
