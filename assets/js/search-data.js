var store = [{
        "title": "Hello there ğŸ‘‹",
        "excerpt":"Iâ€™m not really sure if Iâ€™ll maintain this dev blog in Eng or Kor, but this is my first post. Just to keep track of dev stuff I do. ","categories": [],
        "tags": ["devblog"],
        "url": "https://json9512.github.io/blog/first-post/"
      },{
        "title": "Python",
        "excerpt":"ë“¤ì–´ê°€ë©° . . . ì• ìš©í•˜ëŠ” ì–¸ì–´ì¸ íŒŒì´ì¬ì— ëŒ€í•´ ì¢€ ì•Œì•„ë³´ê³  ë³µê¸°í•˜ê¸° ìœ„í•œ í¬ìŠ¤íŠ¸   íŒŒì´ì¬ì€ ì›ë˜ ê°€ë…ì„±ì´ ì¢‹ì€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´  ê°€ë…ì„±ì„ ì‚´ë ¤ì„œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œë” pythonic í•œ ê°€ì´ë“œë¼ì¸ì´ ìˆìŒ  Python coding conventionê³¼ í”íˆ ì ‘í•˜ì§€ ì•ŠëŠ” ê²ƒë“¤ì— ëŒ€í•´ ì•Œì•„ë³´ìPython Code Styles ë¥¼ ë³´ë©° ë‚´ ë§ˆìŒëŒ€ë¡œ ì˜ì—­í•œ ê²ƒ Content   General Rules  IdiomsGeneral Rules 1. Explicit code Bad def make_complex(*args):    x, y = args    return dict(**locals())Good def make_complex(x, y):    return {'x': x, 'y': y}ë”± ë³´ë©´ ë¬´ìŠ¨ ì½”ë“œì¸ì§€ ì•Œ ìˆ˜ ìˆë„ë¡ (self-explanatory) 2. One statement per line Bad print 'a'; print 'b'if x == 1: print 'a'if &lt;complex comparison&gt; and &lt;complex comparison&gt;:    # do some'inGood print 'a'print 'b'if x == 1:     print 'a'condition1 = &lt;complex comparison&gt;condition2 = &lt;complex comparison&gt;if condition1 and condition2:    # do some'in3. Function arguments 4 ê°€ì§€ ë°©ë²•ì´ ìˆìŒ   positional arguments - send(message, recipient) -&gt; send(\"Hello\", \"God\"), point(x, y) -&gt; point(0, 35) function êµ¬ë™ì— ë¬´ì¡°ê±´ í•„ìš”í•œ arguments  keyword arguments - send(message, to, cc=None) -&gt; send(\"Hello\", \"God\", \"Mom\") or send(\"Hello\", \"God\")ê¸°ë³¸ê°’ì„ ì§€ì •í•œ argument; function êµ¬ë™ì— í•„ìˆ˜ì ì´ì§€ ì•Šì€ argument (cc)  arbitrary argument list - send(message, *args) -&gt; send(\"Hello\", \"God\", \"Mom\", \"Dad\" message argument ì´í›„ì— í•˜ë‚˜ì˜ tupleë¡œ ì…ë ¥ argumentsë¥¼ ì €ì¥í•¨; tupleì— ì €ì¥ë˜ëŠ” ê°’ì˜ typeì´ ë‹¤ ë‹¤ë¥¼ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ìœ ìš©í•¨  arbitrary keyword argument dictionary - send(message, **kwargs) -&gt; send(\"Hello\", to=God, cc=Mom)ê°œë°œìì˜ íŒë‹¨ì— ë”°ë¼ ê°€ì¥ ì í•©í•œ ë°©ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ ì§œë©´ ë¨ 4. Donâ€™t use the magical wand íŒŒì´ì¬ì€ customizableí•˜ë‹¤. í•˜ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ ì‘ë™ë˜ëŠ” ë°©ì‹ì„ ë°”ê¾¸ê²Œ ë˜ë©´ ê°€ë…ì„±/íš¨ìœ¨ì´ ë–¨ì–´ì§„ë‹¤. ì •ë§ í•„ìš”í•  ë•Œê°€ ì•„ë‹ˆë©´ í•˜ì§€ ë§ì 5. We are all responsible users íŒŒì´ì¬ì€ ë‹¤ë¥¸ ì–¸ì–´ì— ìˆëŠ” private ë³€ìˆ˜ë‚˜ í´ë˜ìŠ¤ ê°™ì€ ê²ƒë“¤ì´ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŠ” Javaì™€ ê°™ì´ ë°©ì–´ì (?)ì¸ ì–¸ì–´ë“¤ê³¼ ë‹¤ë¥´ë‹¤. ì´ìœ ëŠ” python ê°œë°œìëŠ” ëª¨ë‘ ì±…ì„ê°ì´ ìˆë‹¤ê³  ë¯¿ê¸° ë•Œë¬¸ì´ë‹¤. ê°œë°œìë¡œì„œ ìì‹ ì´ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ëŠ” ì½”ë“œ/íŠ¹ì„±ì€ ì‚¬ìš©ì„ í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤. í•˜ì§€ë§Œ private íŠ¹ì„±ì„ ë§Œë“¤ì§€ ëª»í•˜ê±°ë‚˜ encapsulationì´ ë¶ˆê°€ëŠ¥ í•˜ë‹¤ëŠ” ëœ»ì´ ì•„ë‹ˆë‹¤. __ë¥¼ íŠ¹ì„±/í•¨ìˆ˜ ì•ì—ë‹¤ê°€ ë¶™ì´ë©´ ëœë‹¤. class Foo:    '''        __test = \"Ac\"    '''    def __init__(self):        self.__test = \"Ac\"    def __print_me(self):        print(self.__test)# outsideb = Foo()b.__print_me() # no attribute errorprint(b.__test) # no attribute error6. Returning Values       í•¨ìˆ˜ê°€ ë³µì¡í• ìˆ˜ë¡ ì—¬ëŸ¬ ê³³ì—ì„œ return ì„ í•  ë•Œê°€ ì¢…ì¢… ìˆë‹¤. í•˜ì§€ë§Œ ê°€ë…ì„±ì„ ì¤‘ìš”ì‹œí•˜ê³  ì½”ë“œê°€ ë” ì§ê´€ì ì´ê³ ì í•œë‹¤ë©´, ì—¬ëŸ¬ ê³³ì—ì„œ returnì„ í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤     ë³´í†µ 2ê°€ì§€ì˜ ê²½ìš°ì— í•¨ìˆ˜ì—ì„œ returnì„ í•œë‹¤          ë¡œì§ì„ ë”°ë¼ ì •ìƒì²˜ë¦¬ê°€ ëì„ ë•Œ      ì—ëŸ¬ê°€ ë‚¬ì„ ë•Œ        Refactoringì„ ìœ„í•´ í•˜ë‚˜ì˜ return í¬ì¸íŠ¸ë¥¼ ìœ ì§€ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤def complex_function(a, b):    if not a:        return None # raising an exception might be better        if not b:         return None # raising an exception might be better        # Some complex code to compute x from a, b    # Resist temptation to return when compute succeeds    if not x:        # some code to compute x as plan-b    return x # single exit point for maintainabilityIdioms   pythonic í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤1. Unpacking values   ë¦¬ìŠ¤íŠ¸ì—ì„œ ì•„ì´í…œ ì¶”ì¶œ ì‹œ enumerate() í•¨ìˆ˜ ì‚¬ìš©     for index, item in enumerate(some_list):     # do some'in with index and item        ë³€ìˆ˜ë¼ë¦¬ swap í•  ë•Œ     # common  temp = b b = a a = temp # pythonic a, b = b, a        Nested unpacking     a, (b, c) = 1, (2, 3) # python 3 (new feature) a, *rest = [1, 2, 3, 4] # a = 1, rest = [2, 3, 4] a, *mid, c = [1, 2, 3, 4] # a = 1, mid = [2, 3], c = 4      2. Creating an ignored variable filename = \"awesomefile.txt\"basename, __, ext = filename.rpartition(\".\")# basename = awesomefile, __ = ., ext = txt# use __ to ignore vals# using _ might conflict since it's an alias for # gettext(), and _ is used to store the last operation # at the interactive prompt3. Creating lists A list of length - N arr_four = [0] * 4A list of length - N of lists arr_four_nested = [[] for __ in range(4)]Create a string from list some_list = [\"a\", \"b\", \"c\"]stringified = ''.join(some_list)4. Searching items in iterables some_set = set([\"i\", \"t\", \"e\", \"m\"])some_list = [\"i\", \"t\", \"e\", \"m\"]cond1 = \"t\" in some_setcond2 = \"i\" in some_set# Set/Dict is a hash table# Much faster than lists/tuples when searching a large dataset# Sometimes using lists is better because creating the hash table requires more memory 5. Zen of Python &gt;&gt;&gt; import this'''The Zen of Python, by Tim PetersBeautiful is better than ugly.Explicit is better than implicit.Simple is better than complex.Complex is better than complicated.Flat is better than nested.Sparse is better than dense.Readability counts.Special cases aren't special enough to break the rules.Although practicality beats purity.Errors should never pass silently.Unless explicitly silenced.In the face of ambiguity, refuse the temptation to guess.There should be one-- and preferably only one --obvious way to do it.Although that way may not be obvious at first unless you're Dutch.Now is better than never.Although never is often better than *right* now.If the implementation is hard to explain, it's a bad idea.If the implementation is easy to explain, it may be a good idea.Namespaces are one honking great idea -- let's do more of those!'''With example on github 6. PEP 8   defacto code style for python. Available here7. Some Conventions 1. Check if variable equals constant # Badif attr == True:    return \"True!\"if attr == None:    return \"None!\"# Goodif attr:    return \"True\"if not attr:    return \"False\"if attr is None:    return \"None\"2. Access a dictionary element # Badd = {\"hello\": \"there\"}# Don't use dict.has_key()if d.has_key(\"hello\"):    print(d[\"hello\"])else:    print(\"default_value\")# Goodd = {\"hello\": \"there\"}print(d.get('hello', 'default_value')) # prints 'there'print(d.get('somein', 'default_value')) # prints 'default_value'# Or:if 'hello' in d:    print(d['hello'])3. Short ways to manipulate lists # Bad - needlessly allocates a list of all (gpa, name) entries in memoryvaledictorian = max([(student.gpa, student.name) for student in graduates])# Goodvaledictorian = max((student.gpa, student.name) for student in graduates)# Good# Generator functions for more complex tasksdef make_batches(items, batch_size):    '''    &gt;&gt;&gt; list(make_batches([1, 2, 3, 4, 5], batch_size=3))    [[1, 2, 3], [4, 5]]    &gt;&gt;&gt; generator = make_batches([1, 2, 3, 4, 5], batch_size=3)    &gt;&gt;&gt; next(generator)    [1, 2, 3]    '''    current_batch = []    for item in items:        current_batch.append(item)        if len(current_batch) == batch_size:            yield current_batch            current_batch = []    yield current_batch # Bad - never use list comprehension for its side effects[print(x) for x in some_list]# Goodfor x in some_list:    print(x)4. Filtering a List # Bad - Don't delete items when iterating through the lista = [3, 4, 5]for i in a:    if i &gt; 4:        a.remove(i)# Don't make multiple passes through the listwhile i in a:    a.remove(i)# Good# comprehensions create a new list objectfiltered_values = [value for value in some_list if value &gt; 4]# generators don't create another list filtered_values = (value for value in some_list if value &gt; 4)5. Modifying the values in a list # Bada = [3, 4, 5]b = a # a,b refer to same list objectfor i in range(len(a)):    a[i] += 3 # changing a will also change b# Good - create a new list objecta = [3, 4, 5]b = aa = [i+3 for i in a] # does not change b6. Read from a file # Badf = open(\"file.txt\")a = f.read()print(a)f.close()# Good - with open automatically closes the filewith open(\"file.txt\") as f:    for line in f:        print(line)7. Line Continuations # Bad - using \"\\\" might break if there is space afterwards\"\\ \"some_string = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa \\    aaaaaaaaaaaaaaaaaaaa\"# Good - open (, [, { will indicate the python interpreter to read until ), ], } closessome_string = (    \"aaaaaaaaaaaaaaaaaaaaaaaaaaa\"    \"aaaaaaaaaaaaaaaaaaaaaaaaaaaa\"    \"aaaaaaaaaaaaaaaaaaaaaaaaaaa\")","categories": [],
        "tags": ["python"],
        "url": "https://json9512.github.io/blog/python/"
      },{
        "title": "Python Advanced Topic",
        "excerpt":"íŒŒì´ì¬ ê°œë°œìë¼ë©´ ì•Œì•„ì•¼ í•  ê³ ì˜¤ê¸‰ ì •ë³´ë“¤ ! ì•„ë˜ ì¶œì²˜ì—ì„œ ë¶€ë¶„ì ìœ¼ë¡œ ì˜ì—­í•œ í¬ìŠ¤íŠ¸ ì¶œì²˜:   Real Python  Official Doc  Stackifyëª©ì°¨   Memory Management  Global Interpreter Lock  ë” ì—…ë°ì´íŠ¸ í•  ê³„íšMemory Management ì¶œì²˜: Real Python, Stackify ì»´í“¨í„°ì—ì„œ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë  ë•Œ, OSì—ì„œ í”„ë¡œê·¸ë¨ì„ ìœ„í•´ í• ë‹¹í•˜ëŠ” ë©”ëª¨ë¦¬ëŠ” fixedí•˜ë‹¤. í”„ë¡œê·¸ë¨ì€ ì •í•´ì§„ ë©”ëª¨ë¦¬ ê´€ë¦¬ ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ ì£¼ì–´ì§„ ë©”ëª¨ë¦¬ë¥¼ ê´€ë¦¬í•œë‹¤. CPython íŒŒì´ì¬ì€ CPythonì´ ë² ì´ìŠ¤ì´ë‹¤. CPythonì€ Cë¡œ ë§Œë“¤ì–´ì¡Œë‹¤. CPython ì™¸ì—ë„ ë‹¤ë¥¸ interpreter/compilerëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤:   IronPython - .NET  Jython - JAVA  MicroPython - ë§ˆì´í¬ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ê¸°ë³¸ì ìœ¼ë¡œ CPythonì´ í•˜ëŠ” ì¼ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.   .pyì— ì íŒ ì½”ë“œë¥¼ bytecodeë¡œ compile í•œë‹¤  .pyc (ì»´íŒŒì¼ ëœ ì½”ë“œ)ë¥¼ íŒŒì´ì¬ ê°€ìƒ í™˜ê²½ì—ì„œ ì‹¤í–‰í•œë‹¤íŒŒì´ì¬ì˜ object (int, list, etc)ëŠ” ì–´ë–»ê²Œ ê´€ë¦¬ê°€ ë ê¹Œ? íŒŒì´ì¬ì—ì„œëŠ” ëª¨ë“  objectê°€ PyObjectë¡œ í‘œí˜„ëœë‹¤. PyObjectëŠ” C struct ì´ê³ :   ob_refcnt: ì´ objectë¥¼ ê°€ë¥´í‚¤ê³  ìˆëŠ” ë³€ìˆ˜ ê°¯ìˆ˜  ob_type: ì´ objectì˜ type (int, list, etc)ì™€ ê°™ì€ íŠ¹ì„±ì„ ê°€ì§€ê³  ìˆë‹¤ PyObjectì˜ ob_refcnt íŠ¹ì„±ì´ 0ì´ ë  ë•Œ, ê°€ë¹„ì§€ ì½œë ‰í„°ëŠ” PyObjectê°€ ì°¨ì§€í•˜ê³  ìˆë˜ ë©”ëª¨ë¦¬ë¥¼ ë‹¤ì‹œ free ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ì£¼ì˜: ë§Œì•½ objectê°€ ìê¸° ìì‹ ì„ reference í•œë‹¤ë©´? class Foo(object):    pass# 'Foo' will be allocated in some place in the memorya = Foo() # ob_refcnt of Foo = 1# This will increment the ob_refcnta.obj = a # ob_refcnt of Foo = 2# Will not deallocate the memory occupied by 'a' # because the ob_refcnt is never 0del a # ob_refcnt of Foo = 1# this is a 'reference cycle'ìœ„ì™€ ê°™ì´ reference cycleì´ ìƒê¸¸ ê²½ìš°, Foo ê°€ ì°¨ì§€í•˜ê³  ìˆëŠ” ë©”ëª¨ë¦¬ëŠ” ì ˆëŒ€ ë¹„ì›Œì§€ì§€ ì•ŠëŠ”ë‹¤. íŒŒì´ì¬ì—ì„œëŠ” ì´ê²ƒì„ í•´ê²°í•˜ê³ ì Generation garbage collection ë„ ê°™ì´ ì‚¬ìš©í•œë‹¤. Generation Garbage Collection 2 ê°€ì§€ íŠ¹ì§•ì´ ìˆë‹¤:   ê°€ë¹„ì§€ ì½œë ‰í„°ê°€ ë©”ëª¨ë¦¬ ë‚´ì— ëª¨ë“  objectë¥¼ track í•œë‹¤. ì´í›„ collection processì—ì„œ ì‚´ì•„ë‚¨ì€ objectë“¤ì€ ë‹¤ìŒ generationìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤. íŒŒì´ì¬ì˜ garbage collection processì˜ generationì€ ì´ 3ë²ˆì´ë‹¤.  ê° generation ë§ˆë‹¤ threshold ê°€ ìˆë‹¤. ì´ thresholdëŠ” ê°€ë¹„ì§€ ì½œë ‰í„°ê°€ trackí•˜ëŠ” objectì˜ ìµœëŒ€ ê°¯ìˆ˜ì´ë‹¤. ë§Œì•½ì´ thresholdë¥¼ ë„˜ì–´ì„œê²Œ ë˜ë©´, collection processê°€ ì‹œì‘ë˜ê³  ì‚´ì•„ë‚¨ì€ objectë§Œ ë‹¤ìŒ ì„¸ëŒ€ë¡œ ë„˜ì–´ê°„ë‹¤. ì´ thresholdëŠ” ê°œë°œìê°€ ì§ì ‘ ë°”ê¿€ ìˆ˜ ìˆë‹¤. Instagramì€ ì‹¤ì œë¡œ ì´ ê¸°ëŠ¥ì„ í•´ì œí•˜ì—¬ ì„œë²„ë¥¼ 10%ê°€ëŸ‰ ë” íš¨ìœ¨ì ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤.Global Interpreter Lock (GIL) ë©”ëª¨ë¦¬ëŠ” ê³µìœ ì œì´ë‹¤. ë©”ëª¨ë¦¬ë¥¼ ë³´í˜¸í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ ì—†ë‹¤ë©´ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ê°™ì€ ë©”ëª¨ë¦¬ ê°’ì„ ì½ê³ , ì“°ê³ , ì§€ìš°ê³  í•  ìˆ˜ ìˆë‹¤. ì¦‰, race conditionê³¼ ê°™ì€ ë¬¸ì œì ë“¤ì´ ë°œí˜„í•œë‹¤. ì´ë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ê°€ì§€ì¸ë° íŒŒì´ì¬ì€ Global Interpreter Lock (GIL) ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë©”ëª¨ë¦¬ì˜ ë°ì´í„°ë¥¼ ë³´í˜¸í•œë‹¤. íŒŒì´ì¬ì˜ GILì€ ë‹¨ì¼ Threadì—ê²Œë§Œ ë©”ëª¨ë¦¬ ê¶Œí•œì„ ì¤€ë‹¤. CPython Memory Management  ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ OSê°€ í• ë‹¹í•œ ë©”ëª¨ë¦¬ ì¤‘ Pythonì€ ë©”ëª¨ë¦¬ë¥¼ í¬ê²Œ Objectë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ì™€ ê·¸ ì™¸ ë©”ëª¨ë¦¬ë¡œ ë¶„í• í•œë‹¤. ê·¸ë¦¬ê³  Objectë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ì— CPythonì˜ object allocatorê°€ í• ë‹¹ëœë‹¤. ì´ëŠ” ìƒˆ object ê°€ ë©”ëª¨ë¦¬ì— í• ë‹¹ë˜ê±°ë‚˜ ì‚­ì œë  ë•Œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤.  CPython ë©”ëª¨ë¦¬ ê´€ë¦¬ì—ëŠ” í¬ê²Œ 3 ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤.   Arenas          ê°€ì¥ í° ë©”ëª¨ë¦¬ ë©ì–´ë¦¬      OSê°€ ë©”ëª¨ë¦¬ë¥¼ ì½ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ë¸”ë¡ê³¼ ì—°ê²°ëœë‹¤      Pythonì€ Arenaì˜ í¬ê¸°ë¥¼ 256 KBë¡œ ì¶”ì •í•œë‹¤      eg. 256KB - 256KB - 256KB ë‹¨ìœ„ë¡œ OSê°€ ì½ëŠ”ë‹¤      ì‚¬ì‹¤ ë­” ì†Œë¦°ì§€ ì˜ ëª¨ë¥´ê² ë‹¤ í•˜í•˜        Pool          ê°€ìƒ ë©”ëª¨ë¦¬      4 KB      ë” ì‘ì€ ë©”ëª¨ë¦¬ ë¸”ë¡ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤      Poolë‚´ì— ëª¨ë“  ë¸”ë¡ì€ ê°™ì€ â€œsize classâ€ë‹¤        Blocks          8 bit ë‹¨ìœ„ë¡œ ë‚˜ë‰˜ì–´ì§„ â€œsize classâ€ ê°€ ìˆë‹¤      eg. ë°ì´í„°ê°€ 7 bytes ë©´ â€œsize classâ€ëŠ” 8 (bytes) ì´ë‹¤, ë°ì´í„°ê°€ 10 bytes ë©´ â€œsize classâ€ëŠ” 16 (bytes) ì´ë‹¤.      Pools   ê°™ì€ size classì˜ ë¸”ë¡ë“¤ë¡œ êµ¬ì„±ëœë‹¤  ê°™ì€ size classë¥¼ ë‹´ê³  ìˆëŠ” poolë“¤ê³¼ double-linked listë¥¼ í˜•ì„±í•œë‹¤  3 ê°€ì§€ì˜ ìƒíƒœë¥¼ ê°€ì§„ë‹¤:          used - ë°ì´í„°ë¥¼ ì €ì¥í•  ë¸”ë¡ì„ ê°€ì§€ê³  ìˆì„ ë•Œ      full - ëª¨ë“  ë¸”ë¡ì´ ë°ì´í„°ë¡œ ê°€ë“ ì°¨ ìˆì„ ë•Œ      empty - ë°ì´í„°ê°€ ì¡´ì¬í•˜ì§€ ì•Šê³  , ì•„ë¬´ size classë¡œ êµ¬ì„±ëœ ë¸”ë¡ë“¤ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ë•Œ        usedpools ì€ ìƒˆë¡œìš´ ê°ì²´ê°€ ì €ì¥ ë  ìˆ˜ ìˆëŠ” blockì´ ìˆëŠ” ëª¨ë“  pool ë¦¬ìŠ¤íŠ¸ë‹¤ (ì €ì¥ë˜ëŠ” ê°ì²´ì˜ sizeëŠ” blockì˜ size classê°€ ìˆ˜ìš© ê°€ëŠ¥ í•´ì•¼í•œë‹¤). ìˆ˜ìš© ê°€ëŠ¥í•œ ë¸”ë¡ì„ ì°¾ì„ë•Œ usedpools ë¦¬ìŠ¤íŠ¸ì—ì„œ ë¨¼ì € ì°¾ëŠ”ë‹¤.  freepools ëŠ” ëª¨ë“  empty ìƒíƒœì˜ poolì„ ê¸°ë¡í•œ ë¦¬ìŠ¤íŠ¸ë‹¤.  fullì—ì„œ íŠ¹ì • ë¸”ë¡ì„ free í•  ê²½ìš°, ê·¸ poolì˜ ìƒíƒœëŠ” usedë¡œ ë°”ë€ë‹¤. Blocks   3ê°€ì§€ ìƒíƒœê°€ ìˆë‹¤:          untouched - í• ë‹¹ë˜ì§€ ì•Šì€ ë©”ëª¨ë¦¬      free - í• ë‹¹ ëìœ¼ë‚˜ CPythonì´ free í•œ ë©”ëª¨ë¦¬      allocated - í• ë‹¹ ëœ ë©”ëª¨ë¦¬        ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´, ê° pool ì—ëŠ” ìê¸° pool ë‚´ì— free ë¸”ë¡ì„ ê°€ë¥´í‚¤ëŠ” í¬ì¸í„°ê°€ ìˆë‹¤  free ë¸”ë¡ì´ ê¼­ ì—°ì†ì„±ì„ ê°€ì ¸ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤:    free ë¸”ë¡ì„ ê°€ë¥´í‚¤ëŠ” í¬ì¸í„°ëŠ” free ë¸”ë¡ë“¤ì„ íƒìƒ‰í•  ìˆ˜ ìˆëŠ” single linked listë‹¤  ë§Œì•½ í•„ìš”í•œ ë©”ëª¨ë¦¬ì˜ ì‚¬ì´ì¦ˆê°€ free ë¸”ë¡ì˜ ì‚¬ì´ì¦ˆë³´ë‹¤ í´ ê²½ìš°, untouched ë¸”ë¡ë“¤ì„ ì‚¬ìš©í•œë‹¤Arena   ì—¬ëŸ¬ ê°œì˜ poolë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤  double-linked ë¦¬ìŠ¤íŠ¸ë‹¤  Arenaë‚´ì— í• ë‹¹ ê°€ëŠ¥í•œ poolì˜ ê°¯ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ì´ ë˜ì–´ìˆë‹¤ (ì˜¤ë¦„ì°¨ìˆœ)  ì˜¤ë¦„ì°¨ìˆœì¸ ì´ìœ ?          CPythonì´ íŠ¹ì • ë©”ëª¨ë¦¬ë¥¼ freeí•œë‹¤ëŠ” ê²ƒì€ OSì—ê²Œ ê·¸ ë©”ëª¨ë¦¬ë¥¼ ëŒë ¤ì¤€ë‹¤ëŠ” ëœ»ì´ ì•„ë‹ˆë‹¤. CPythonì€ ë©”ëª¨ë¦¬ë¥¼ freeí•œ ì´í›„ì—ë„ ê·¸ ë©”ëª¨ë¦¬ë¥¼ ê³„ì† ì‚¬ìš©í•œë‹¤.  ì¦‰ Arenaë¥¼ ë” ì ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì „ì²´ì ì¸ í”„ë¡œê·¸ë¨ì˜ ë©”ëª¨ë¦¬ë¥¼ ë” ì ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.**      Global Interpreter Lock source: Real Python   ê°„ë‹¨íˆ ë§í•˜ë©´ mutex (lock) ì´ë‹¤. ë‹¨ í•˜ë‚˜ì˜ threadë§Œ Python Interpreterë¥¼ ì“¸ ìˆ˜ ìˆê²Œ í•˜ëŠ” ì¥ì¹˜ë‹¤  CPUë¥¼ ì´ìš©í•œ multi threaded ì•±ì—ì„œëŠ” bottleneckì´ ë  ìˆ˜ ìˆë‹¤  ì•„ë¬´ë¦¬ ë‚´ ì½”ë“œê°€ multi threadedìš©ìœ¼ë¡œ ì§œì—¬ì¡Œë‹¤ê³  í•˜ë”ë¼ë„, ì‹¤ì œë¡œëŠ” single threaded ì•±ì²˜ëŸ¼ ì‹¤í–‰ì´ ëœë‹¤ì™œ ë„ì… ëëŠ”ê°€?   ì¼ë‹¨ Python GILì€ threadë¼ëŠ” ê°œë…ì´ ì¡´ì¬í•˜ê¸° ì „ì— ë„ì…ëë‹¤  íŒŒì´ì¬ ë©”ëª¨ë¦¬ ê´€ë¦¬ íŠ¹ì„± ìƒ objectì— ëŒ€í•œ race conditionì´ ìƒê¸¸ ìˆ˜ ìˆëŠ”ë°, ì´ë¥¼ ë°©ì§€ í•˜ë ¤ë©´ ì¼ì¢…ì˜ lockì´ í•„ìš”í–ˆë‹¤  object ë‹¨ìœ„ë¡œ lockì„ ë„ì…í•˜ê¸°ì—ëŠ” deadlock ë¬¸ì œê°€ ìƒê¸°ê³  ì„±ëŠ¥ì´ ì €í•˜ ë  ìˆ˜ ìˆì–´ì„œ GILì„ ë„ì…í–ˆë‹¤.  ê°€ì¥ ê°„ë‹¨í•˜ê³  íš¨ê³¼ì ì´ì—ˆê¸° ë•Œë¬¸ì´ë‹¤Parallel programì€ íŒŒì´ì¬ìœ¼ë¡œ ë¶ˆê°€ëŠ¥í•œê°€?   Multi-threaded ë§ê³  multi-process ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´ ì•±ì„ parallelí•˜ê²Œ ì§¤ ìˆ˜ ìˆë‹¤  í˜¹ì€ ë‹¤ë¥¸ python interpreterë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. GILì€ CPython ì—ë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤ (CPythonì´ Pythonì˜ ë² ì´ìŠ¤ë‹¤)","categories": [],
        "tags": ["python"],
        "url": "https://json9512.github.io/blog/python-advanced/"
      }]
